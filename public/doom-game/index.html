<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DOOM</title>
    <style>
        body { margin: 0; overflow: hidden; background: #000; touch-action: none; user-select: none; -webkit-user-select: none; }
        canvas { display: block; width: 100dvw; height: 100dvh; object-fit: contain; }

        /* Mobile Controls Layout */
        #mobile-controls { position: absolute; inset: 0; pointer-events: none; display: none; }
        .control-group { position: absolute; bottom: 20px; pointer-events: auto; }
        #dpad { left: 20px; }
        #actions { right: 20px; display: grid; gap: 8px; }

        .btn {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            color: white;
            font-family: monospace;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            touch-action: manipulation;
            backdrop-filter: blur(2px);
            pointer-events: auto;
        }
        .btn:active { background: rgba(255, 255, 255, 0.5); }

        @media (hover: none) and (pointer: coarse) {
            #mobile-controls { display: block; }
            #dpad { width: 150px; height: 150px; }
            #actions { width: 130px; height: 130px; grid-template: repeat(2, 1fr) / repeat(2, 1fr); gap: 10px; }
            .btn { width: 48px; height: 48px; font-size: 18px; }
            .action-btn { width: 60px; height: 60px; font-size: 12px; }
            #btn-up { position: absolute; left: 50px; top: 0; width: 50px; height: 50px; font-size: 20px; }
            #btn-down { position: absolute; left: 50px; bottom: 0; width: 50px; height: 50px; font-size: 20px; }
            #btn-left { position: absolute; top: 50px; left: 0; width: 50px; height: 50px; font-size: 20px; }
            #btn-right { position: absolute; top: 50px; right: 0; width: 50px; height: 50px; font-size: 20px; }
            #btn-esc, .small-btn { position: absolute; top: 15px; width: 32px; height: 32px; font-size: 10px; }
            #btn-esc { left: 15px; }
            #btn-y { right: 55px; }
            #btn-n { right: 15px; }
        }
    </style>
</head>
<body>

    <canvas id="screen" tabindex="0"></canvas>

    <div id="mobile-controls">
        <div class="btn" id="btn-esc">ESC</div>
        <div class="btn small-btn" id="btn-y">Y</div>
        <div class="btn small-btn" id="btn-n">N</div>
        <div id="dpad" class="control-group">
            <div class="btn" id="btn-up">↑</div>
            <div class="btn" id="btn-left">←</div>
            <div class="btn" id="btn-right">→</div>
            <div class="btn" id="btn-down">↓</div>
        </div>

        <div id="actions" class="control-group">
            <div class="btn action-btn" id="btn-strafe">SHIFT</div>
            <div class="btn action-btn" id="btn-enter">ENTR</div>
            <div class="btn action-btn" id="btn-fire">FIRE</div>
            <div class="btn action-btn" id="btn-use">OPEN</div>
        </div>
    </div>

    <script src="main.js" defer></script>
</body>
</html>
